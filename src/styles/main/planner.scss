// Main planner
#deadline-dynamo-planner {
	min-height: calc(100vh - 229px);
	width: 100%;

	@media screen and (width <= 991px) {
		min-height: calc(100vh - 253px);
	}

	.weekday-assignments {
		min-height: 50px;
		margin: 0 0 6px;

		li:not(.no-assignments) {
			list-style: none;
			display: grid;
			grid-template-columns: 75px 1fr 190px;
			grid-template-rows: 25px 65px;
			border: 1px solid black;

			// Remove duplicate borders
			+ li {
				border-top: 0;
			}

			&::before {
				content: "";
				display: block;
				grid-column: 1 / 2;
				grid-row: 1 / 3;
				border-right: 1px solid black;
				margin-right: 6px;
				background-repeat: no-repeat;
				background-position: center;
				background-size: 1.5em 1.5em;
			}

			a {
				font-size: 1.2em;
			}

			.estimate-edit {
				display: none;
			}

			.estimate-label {
				grid-column: 2 / 3;
				grid-row: 2 / 3;
				margin: 0;
			}

			.due-date {
				text-align: right;
				padding-right: 5px;

				.date::after {
					content: " ";
				}
			}
		}

		// Add the icon for each submission type.
		li.quiz::before {
			background-image: url("data:image/svg+xml;utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1920' width='1em' height='1em'%3E%3Cg%3E%3Cg fill-rule='evenodd'%3E%3Cpath d='m746.255 1466.764 80.484 80.712-248.748 248.634-80.484-80.598 248.748-248.748Zm-165.904-165.836 80.598 80.598-331.626 331.626-80.598-80.598 331.626-331.626Zm-165.847-165.721 80.598 80.598-414.504 414.504L0 1549.71l414.504-414.504ZM1119.32 264.6c356.478-356.478 725.268-178.296 729.03-176.472l17.1 8.436 8.436 17.1c1.824 3.648 180.006 372.438-176.586 729.03l-146.604 146.604-2.622 665.874-222.642 222.642-331.626-331.512-578.094-578.094-331.626-331.74 222.642-222.642 665.874-2.508Zm316.92 839.154-361.836 361.95 251.028 250.914 108.87-108.87 1.938-503.994Zm343.026-921.348c-69.084-25.992-321.366-95.304-579.348 162.792l-623.01 623.01 416.898 416.898 622.896-623.01c256.956-256.956 187.986-511.176 162.564-579.69Zm-921.12 343.368-503.994 1.824-108.87 108.87L496.31 887.61l361.836-361.836Z'%3E%3C/path%3E%3Cpath d='M1534.987 372.558c-51.072-1.368-131.67 12.768-213.294 94.392l-40.47 40.356 173.394 173.28 40.356-40.242c82.194-82.308 96.9-161.31 94.848-213.18l-2.166-52.554-52.668-2.052Z'%3E%3C/path%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
		}

		li.discussion::before {
			background-image: url("data:image/svg+xml;utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1920' width='1em' height='1em'%3E%3Cg%3E%3Cpath d='M677.647 16v338.936h112.941V129.054h1016.47V919.53h-225.994v259.765L1321.412 919.53h-79.172V467.878H0v1016.47h338.71v418.9l417.996-418.9h485.534v-451.877h32.753l419.125 419.124v-419.124H1920V16H677.647ZM338.79 919.563h564.706v-112.94H338.79v112.94Zm0 225.883h338.936v-113.054H338.79v113.054Zm-225.85-564.74h1016.47v790.701H710.4L451.652 1631.06v-259.652h-338.71V580.706Z' fill-rule='evenodd'%3E%3C/path%3E%3C/g%3E%3C/svg%3E");
		}

		li.assignment::before {
			background-image: url("data:image/svg+xml;utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1920 1920' rotate='0' width='1em' height='1em'%3E%3Cg%3E%3Cpath d='M1468.214 0v564.698h-112.94V112.94H112.94v1694.092h1242.334v-225.879h112.94v338.819H0V0h1468.214Zm129.428 581.311c22.137-22.136 57.825-22.136 79.962 0l225.879 225.879c22.023 22.023 22.023 57.712 0 79.848l-677.638 677.637c-10.616 10.504-24.96 16.49-39.98 16.49h-225.88c-31.17 0-56.469-25.299-56.469-56.47v-225.88c0-15.02 5.986-29.364 16.49-39.867Zm-155.291 314.988-425.895 425.895v146.031h146.03l425.895-425.895-146.03-146.03Zm-764.714 346.047v112.94H338.82v-112.94h338.818Zm225.88-225.88v112.94H338.818v-112.94h564.697Zm734.106-315.44-115.424 115.425 146.03 146.03 115.425-115.423-146.031-146.031ZM1129.395 338.83v451.758H338.82V338.83h790.576Zm-112.94 112.94H451.759v225.878h564.698V451.77Z' fill-rule='evenodd'%3E%3C/path%3E%3C/g%3E%3C/svg%3E");
		}

		// For if there are no assignments
		li.no-assignments {
			list-style: none;
			text-align: center;
			line-height: 50px;
			font-size: 1.2em;
		}
	}
}

// Loading spinner
.spinner {
	animation: rotate 2s linear infinite;
	z-index: 2;
	position: absolute;
	top: 50%;
	left: 50%;
	margin: -25px 0 0 -25px;
	width: 50px;
	height: 50px;

	& .path {
		// Sidebar's color.
		stroke: var(--ic-brand-global-nav-bgd);
		stroke-linecap: round;
		animation: dash 1.5s ease-in-out infinite;
	}
}

.deadline-dynamo-sidebar {
	position: fixed;
	top: 0;
	bottom: 0;
	inset-inline: auto 0;
	overflow: hidden auto;
	z-index: 9999;
	background-color: rgb(255 255 255);
	box-shadow: rgb(0 0 0 / 10%) 0 0.375rem 0.4375rem, rgb(0 0 0 / 25%) 0 0.625rem 1.75rem;
	box-sizing: border-box;
	width: 30em;

	// Slide in animation
	animation: slide-in 0.45s ease-in-out;

	.sidebar-close {
		box-sizing: border-box;
		width: 2.375rem;
		height: 2.375rem;
		transition: background 0.2s ease 0s, transform 0.2s ease 0s;
		color: rgb(45 59 69);
		background: transparent;
		margin: 0.5rem;
		cursor: pointer;
		border-radius: 0.375rem;

		// Center the close svg
		display: flex;
		align-items: center;

		svg {
			margin: 0 auto;
		}

		&:hover {
			background: rgb(45 59 69 / 10%);
		}
	}

	&.slide-out {
		animation: slide-out 0.45s ease-in-out;
	}

	.course-name {
		padding: 0.5em 0.9rem;
		position: relative;
		cursor: pointer;

		&::after {
			content: "<";
			display: inline-block;
			position: absolute;
			top: 0.1em;
			right: 0.4em;

			// Make it a bit stretched out.
			transform: scale(0.5, 1);

			// Make it bigger to make up for that stretch.
			font-size: 1.5em;
			transition: rotate 0.3s ease;
		}
	}

	.course-assignments {
		display: none;
	}

	.sidebar-course:not(.collapsed) {
		.course-name::after {
			rotate: -90deg;
		}

		.course-assignments {
			// Sidebar assignment formatting
			display: block;
			list-style: none;
			padding: 0;
			margin: 0;

			li {
				padding: 0 0 0.5rem;
				align-items: center;

				a {
					text-overflow: ellipsis;
					white-space: nowrap;
					overflow: hidden;
					padding-left: 50px;
					margin-top: 0.5rem;
					display: block;
				}

				.estimate-edit {
					padding-top: 0.5rem;
					padding-left: 50px;
					margin: 0;

					input {
						margin-bottom: 0;
						max-width: 45px;
					}
				}

				.estimate-label {
					display: none;
				}

				.due-date {
					font-size: 0.75em;
					color: #525252;
					padding: 0.5rem 0 0.5rem 50px;

					span {
						display: block;
					}
				}
			}

			.no-assignments {
				// Added padding to the link, we have no link so we need padding here.
				padding-left: 50px;
			}

			// Add the canvas line between each assignment.
			// This selector gets the non-first li and adds a line before it.
			li + li::before {
				content: "";
				display: block;
				background: linear-gradient(90deg, transparent 7%, #b7b7b7 25%, #b7b7b7 75%, transparent 93%);
				height: 1px;
				margin-bottom: 3px;
				width: 100%;
			}
		}
	}
}

// Planner animations
@keyframes rotate {
	100% {
		transform: rotate(360deg);
	}
}

@keyframes dash {
	0% {
		stroke-dasharray: 1, 150;
		stroke-dashoffset: 0;
	}

	50% {
		stroke-dasharray: 90, 150;
		stroke-dashoffset: -35;
	}

	100% {
		stroke-dasharray: 90, 150;
		stroke-dashoffset: -124;
	}
}

// Sidebar animations
@keyframes slide-in {
	0% {
		transform: translateX(100%);
		opacity: 0;
	}

	66% {
		opacity: 1;
	}

	100% {
		transform: translateX(0);
	}
}

@keyframes slide-out {
	0% {
		transform: translateX(0);
	}

	100% {
		transform: translateX(100%);
	}
}
